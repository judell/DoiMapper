<html>
<head>
<link rel="stylesheet" href="https://jonudell.info/hlib/hlib.css">
<script src="https://jonudell.info/hlib/hlib.bundle.js"></script>
<style>
body { 
  margin: .5in;
}
.formContainer {
  border-left: solid;
  border-bottom: solid;
  width: 30%;
  border-left-width: thin;
  border-bottom-width: thin;
  border-color: lightgray;
  padding-left: 20px;  
}
.mappingContainer {
  width:500px;
  height:200px;
}
</style>
</head>
<body>

<h1>DOI-URL annotation mapper</h1>

<div class="formContainer">
  <div class="formField" id="userContainer"></div>
  <div class="formField" id="groupContainer"></div>
  <div class="formField" id="tokenContainer"></div>
</div>

<h2>What it does</h2>

<p>
For each DOI-URL pair, it posts an annotation to the URL 
that include the same DOI metadata sent by the Hypothesis
client.
</p>

<h2>Why do this?</h2>

<p>
This tool was created to solve a particular problem
for EuropePMC, and to provide a foundation for similar 
efforts to influence the metadata linkages among 
annotations that target more than one instance of
the same document.
</p>

<h2>How it works</h2>

<p>
Provide a set of URL-DOI mappings like so:
</p>
    
<textarea class="mappingContainer formField">
[
{
  "doi": "10.1097/JOM.0000000000000063",
  "url": "http://europepmc.org/abstract/MED/24806729"
  },
{
  "doi": "10.1371/journal.pone.0117912",
  "url": "http://europepmc.org/abstract/MED/25658111"
  }
]
</textarea>  

<p>
Then click the Go button. <button>Go</button>  
</p>

<script>
hlib.createUserInputForm(hlib.getById('userContainer'));
if (! hlib.getToken()) {
  hlib.createGroupInputForm(hlib.getById('groupContainer'));
  hlib.createApiTokenInputForm(hlib.getById('tokenContainer'));
}
</script>

</body>
</html>
